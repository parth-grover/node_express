{
  "_args": [
    [
      {
        "raw": "file-stream-rotator@^0.5.5",
        "scope": null,
        "escapedName": "file-stream-rotator",
        "name": "file-stream-rotator",
        "rawSpec": "^0.5.5",
        "spec": ">=0.5.5 <0.6.0",
        "type": "range"
      },
      "C:\\test_node\\node_modules\\winston-daily-rotate-file"
    ]
  ],
  "_from": "file-stream-rotator@^0.5.5",
  "_hasShrinkwrap": false,
  "_id": "file-stream-rotator@0.5.5",
  "_location": "/file-stream-rotator",
  "_nodeVersion": "10.15.3",
  "_npmOperationalInternal": {
    "host": "s3://npm-registry-packages",
    "tmp": "tmp/file-stream-rotator_0.5.5_1568041155605_0.2262804388925712"
  },
  "_npmUser": {
    "name": "rogerc",
    "email": "rogerc@ataclick.net"
  },
  "_npmVersion": "6.4.1",
  "_phantomChildren": {},
  "_requested": {
    "raw": "file-stream-rotator@^0.5.5",
    "scope": null,
    "escapedName": "file-stream-rotator",
    "name": "file-stream-rotator",
    "rawSpec": "^0.5.5",
    "spec": ">=0.5.5 <0.6.0",
    "type": "range"
  },
  "_requiredBy": [
    "/winston-daily-rotate-file"
  ],
  "_resolved": "https://registry.npmjs.org/file-stream-rotator/-/file-stream-rotator-0.5.5.tgz",
  "_shasum": "61701413100ec866e302094f794304df535dbacb",
  "_shrinkwrap": null,
  "_spec": "file-stream-rotator@^0.5.5",
  "_where": "C:\\test_node\\node_modules\\winston-daily-rotate-file",
  "author": {
    "name": "Roger Castells"
  },
  "bugs": {
    "url": "https://github.com/rogerc/file-stream-rotator/issues"
  },
  "dependencies": {
    "moment": "^2.11.2"
  },
  "description": "Automated stream rotation useful for log files",
  "devDependencies": {},
  "directories": {},
  "dist": {
    "integrity": "sha512-XzvE1ogpxUbARtZPZLICaDRAeWxoQLFMKS3ZwADoCQmurKEwuDD2jEfDVPm/R1HeKYsRYEl9PzVIezjQ3VTTPQ==",
    "shasum": "61701413100ec866e302094f794304df535dbacb",
    "tarball": "https://registry.npmjs.org/file-stream-rotator/-/file-stream-rotator-0.5.5.tgz",
    "fileCount": 10,
    "unpackedSize": 46024,
    "npm-signature": "-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJddmjECRA9TVsSAnZWagAAK2YP/RJaYtBHgVMiSrTatzvu\n/ez7smja9s3ucScGFi0wMLt2L5FtnftVstOE97e4qCU6Ytz6Vec/HmgQDQcP\nlldISE4z+J/Ofh9AQqwPp79LNJjiyfATq2CC4kQNyMjfcrlPrt00HnDlXQvo\noBaVDAF9aX5z528znx3RPqMmGsFz54By60s4oZ8MkKsiSLrmF4WpOyebuNUr\nuDCMJJv71wyYvqsAOyTaoc+BlxC3m5lPSQ1ecEFXvzaidKrQA38pEpSyNIUD\n18LNiKf1dvtT/OtHOH08baZ5zpJ8MW6ps3VFvB2k6aQ0WwKgtFY/30Lwq4vE\nOZIFc2qvAUv7MTEwtH58oQyFcHUamdRkG+tke/vjNrz7sB7MukOddzGdPeoj\nlltNuudTeuol4Y6yopKU7cuF6iQsoNegodO57dezp1SnH5ZQ00xUgR0sG/lr\nMbHveqAH4g+CYU4sgWvH2x0RqC1z6DArXm8FvQEAgpNM5cGvzAWVeEqPnjVQ\nyyf0f4G4/Z8VIl8lgrOlii7SAB4KPLefDHH3Zjtd4UbMbgdLZZ+M3ldQ6Fpp\n62xWr3xwXZASbYT3xUQP8qIt5BHp7IW2hdWC5ea4CyOlBHyWkxIah+mlVGhx\nF6U3xWdFKUO7R1QgiFRXqjEc09zmNQ3LQMRCwgcZk2JEUT/3iEA6BvJI++yG\nYnhd\r\n=RI+6\r\n-----END PGP SIGNATURE-----\r\n"
  },
  "gitHead": "f0586179a31e975b37aef5184e12db255da88e52",
  "homepage": "https://github.com/rogerc/file-stream-rotator#readme",
  "keywords": [
    "stream",
    "express",
    "restify",
    "connect",
    "rotate",
    "file",
    "minute",
    "hourly",
    "daily",
    "logrotate"
  ],
  "license": "MIT",
  "main": "FileStreamRotator.js",
  "maintainers": [
    {
      "name": "rogerc",
      "email": "rogerc@ataclick.net"
    }
  ],
  "name": "file-stream-rotator",
  "optionalDependencies": {},
  "readme": "\nfile-stream-rotator\n===================\n\nNodeJS file stream rotator\n\n## Purpose\n\nTo provide an automated rotation of Express/Connect logs or anything else that writes to a file on a regular basis that needs to be rotated based on date, a size limit or combination and remove old log files based on count or elapsed days. \n\n## Install\n\n```\nnpm install file-stream-rotator\n```\n\n## Options\n\n - *filename*:       Filename including full path used by the stream\n - *frequency*:      How often to rotate. Options are 'daily', 'custom' and 'test'. 'test' rotates every minute.\n                     If frequency is set to none of the above, a YYYYMMDD string will be added to the end of the filename.\n - *verbose*:        If set, it will log to STDOUT when it rotates files and name of log file. Default is TRUE.\n - *date_format*:    Format as used in moment.js http://momentjs.com/docs/#/displaying/format/. The result is used to replace\n                     the '%DATE%' placeholder in the filename.\n                     If using 'custom' frequency, it is used to trigger file rotation when the string representation changes.\n - *size*:           Max size of the file after which it will rotate. It can be combined with frequency or date format.\n                     The size units are 'k', 'm' and 'g'. Units need to directly follow a number e.g. 1g, 100m, 20k.\n - *max_logs*        Max number of logs to keep. If not set, it won't remove past logs. It uses its own log audit file\n                     to keep track of the log files in a json format. It won't delete any file not contained in it.\n                     It can be a number of files or number of days. If using days, add 'd' as the suffix.\n - *audit_file*      Location to store the log audit file. If not set, it will be stored in the root of the application.\n - *end_stream*      End stream (true) instead of the destroy (default: false). Set value to true if when writing to the\n                     stream in a loop, if the application terminates or log rotates, data pending to be flushed might be lost.       \n - *file_options*    An object passed to the stream. This can be used to specify flags, encoding, and mode.\n                     See https://nodejs.org/api/fs.html#fs_fs_createwritestream_path_options. Default `{ flags: 'a' }`.             \n - *utc*             Use UTC time for date in filename. Defaults to 'FALSE'\n - *extension*       File extension to be appended to the filename. This is useful when using size restrictions as the rotation\n                     adds a count (1,2,3,4,...) at the end of the filename when the required size is met.\n - *watch_log*       Watch the current file being written to and recreate it in case of accidental deletion. Defaults to 'FALSE'\n - *create_symlink*  Create a tailable symlink to the current active log file. Defaults to 'FALSE'\n - *symlink_name*    Name to use when creating the symbolic link. Defaults to 'current.log'\n \n\n## Example Usage\n```javascript\n    // Default date added at the end of the file\n    var rotatingLogStream = require('file-stream-rotator').getStream({filename:\"/tmp/test.log\", frequency:\"daily\", verbose: false});\n \n    // Default date added using file pattern\n    var rotatingLogStream = require('file-stream-rotator').getStream({filename:\"/tmp/test-%DATE%.log\", frequency:\"daily\", verbose: false});\n \n    // Custom date added using file pattern using moment.js formats\n    var rotatingLogStream = require('file-stream-rotator').getStream({filename:\"/tmp/test-%DATE%.log\", frequency:\"daily\", verbose: false, date_format: \"YYYY-MM-DD\"});\n \n    // Rotate when the date format as calculated by momentjs is different (e.g monthly)\n    var rotatingLogStream = require('file-stream-rotator').getStream({filename:\"/tmp/test-%DATE%.log\", frequency:\"custom\", verbose: false, date_format: \"YYYY-MM\"});\n \n    // Rotate when the date format as calculated by momentjs is different (e.g weekly)\n    var rotatingLogStream = require('file-stream-rotator').getStream({filename:\"/tmp/test-%DATE%.log\", frequency:\"custom\", verbose: false, date_format: \"YYYY-ww\"});\n \n    // Rotate when the date format as calculated by momentjs is different (e.g AM/PM)\n    var rotatingLogStream = require('file-stream-rotator').getStream({filename:\"/tmp/test-%DATE%.log\", frequency:\"custom\", verbose: false, date_format: \"YYYY-MM-DD-A\"});\n \n    // Rotate on given minutes using the 'm' option i.e. 5m or 30m\n    var rotatingLogStream = require('file-stream-rotator').getStream({filename:\"/tmp/test.log\", frequency:\"5m\", verbose: false});\n     \n    // Rotate on the hour or any specified number of hours\n    var rotatingLogStream = require('file-stream-rotator').getStream({filename:\"/tmp/test.log\", frequency:\"1h\", verbose: false});\n\n    // Rotate on the hour or any specified number of hours and keep 10 files\n    var rotatingLogStream = require('file-stream-rotator').getStream({filename:\"/tmp/test.log\", frequency:\"1h\", verbose: false, max_logs: 10});\n\n    // Rotate on the hour or any specified number of hours and keep 10 days\n    var rotatingLogStream = require('file-stream-rotator').getStream({filename:\"/tmp/test.log\", frequency:\"1h\", verbose: false, max_logs: \"10d\"});\n\n    // Rotate on the hour or any specified number of hours and keep 10 days and store the audit file in /tmp/log-audit.json\n    var rotatingLogStream = require('file-stream-rotator').getStream({filename:\"/tmp/test.log\", frequency:\"1h\", verbose: false, max_logs: \"10d\", audit_file: \"/tmp/log-audit.json\"});\n\n    //.....    \n    \n    // Use new stream in express\n    app.use(express.logger({stream: rotatingLogStream, format: \"default\"}));\n    \n    //.....\n\n```\n    \nYou can listen to the *open*, *close*, *error* and *finish* events generated by the open stream. You can also listen for custom events:\n\n  * *rotate*: that will pass two parameters to the callback: (*oldFilename*, *newFilename*)\n  * *new*: that will pass one parameter to the callback: *newFilename*\n  * *logRemoved*: that will pass one parameter to the callback: {*date*: unix_timestamp, *name*: filename_deleted, *hash*: log_file_unique_idenfifier} \n  \nYou can also limit the size of each file by adding the size option using \"k\", \"m\" and \"g\" to specify the size of the file in kiloybytes, megabytes or gigabytes. When it rotates a file based on size, it will add a number to the end and increment it for every time the file rotates in the given period as shown below.\n  \n```\n  3078  7 Mar 13:09:58 2017 testlog-2017-03-07.13.09.log.20\n  2052  7 Mar 13:10:00 2017 testlog-2017-03-07.13.09.log.21\n  3078  7 Mar 13:10:05 2017 testlog-2017-03-07.13.10.log.1\n  3078  7 Mar 13:10:08 2017 testlog-2017-03-07.13.10.log.2\n  3078  7 Mar 13:10:11 2017 testlog-2017-03-07.13.10.log.3\n  3078  7 Mar 13:10:14 2017 testlog-2017-03-07.13.10.log.4\n```  \n\n  The example below will rotate files daily but each file will be limited to 5MB.\n  \n```javascript\n    // Rotate every day or every 5 megabytes, whatever comes first.\n    var rotatingLogStream = require('file-stream-rotator').getStream(\n        {\n            filename:\"/tmp/test-%DATE%.log\", \n            frequency:\"custom\", \n            verbose: false, \n            date_format: \"YYYY-MM-DD\",\n            size: \"5M\" // its letter denominating the size is case insensitive\n        }\n    );\n    rotatingLogStream.on('rotate',function(oldFile,newFile){\n        // do something with old file like compression or delete older than X days.\n    })\n```\n\n## NPM Maintainers\n\nThe npm module for this library will be maintained by:\n\n* [Roger C](http://github.com/rogerc)\n\n## Contributors\n\nThanks to the contributors below for raising PRs and everyone else that has raised issues to make the module better.\n\n* [Matt Berther](https://github.com/mattberther)\n* [nickbug](https://github.com/nickbug)\n* [AndrÃ© Farzat](https://github.com/andrefarzat)\n* [Thibault.P](https://github.com/DrPlop)\n\n## License\n\nfile-stream-rotator is licensed under the MIT license.\n",
  "readmeFilename": "README.md",
  "repository": {
    "type": "git",
    "url": "git://github.com/rogerc/file-stream-rotator.git"
  },
  "scripts": {
    "test": "node test.js"
  },
  "version": "0.5.5"
}
